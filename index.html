<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Jam Digital Masjid</title>

<style>

body{
margin:0;
font-family:Arial;
color:white;
background:url("https://images.unsplash.com/photo-1591608511731-0fce8e0c2e4b") no-repeat center;
background-size:cover;
}

/* HEADER */
.header{
background:linear-gradient(90deg,#00416A,#799F0C);
padding:10px;
text-align:center;
}

.namaMasjid{
font-size:40px;
font-weight:bold;
}

.tanggal{
font-size:20px;
}

/* LAYOUT */
.container{
display:flex;
height:90vh;
}

/* SIDEBAR */
.sidebar{
width:230px;
}

/* WARNA TIAP SHOLAT */
.subuh{background:#00A8FF;}
.dzuhur{background:#FBC531;}
.ashar{background:#8E44AD;}
.maghrib{background:#E67E22;}
.isya{background:#2C3E50;}

.sholat{
padding:18px;
font-size:22px;
}

.waktu{
font-size:32px;
font-weight:bold;
}

/* JAM UTAMA */
.main{
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

.clock{
font-size:130px;
font-weight:bold;
text-shadow:3px 3px 5px black;
}

.countdown{
font-size:35px;
color:#FFD700;
margin-top:10px;
}

/* RUNNING TEXT */
.running{
position:fixed;
bottom:0;
width:100%;
background:linear-gradient(90deg,#ff0000,#ff7300);
padding:10px;
font-size:25px;
white-space:nowrap;
overflow:hidden;
}

.running span{
display:inline-block;
padding-left:100%;
animation:runtext 15s linear infinite;
}

@keyframes runtext{
0%{transform:translateX(0);}
100%{transform:translateX(-100%);}
}

</style>

</head>

<body>

<div class="header">
<div class="namaMasjid">MASJID AL BAROKAH</div>
<div class="tanggal" id="tanggal"></div>
</div>

<div class="container">

<!-- SIDEBAR -->
<div class="sidebar">

<div class="sholat subuh">Subuh
<div class="waktu" id="subuh"></div>
</div>

<div class="sholat dzuhur">Dzuhur
<div class="waktu" id="dzuhur"></div>
</div>

<div class="sholat ashar">Ashar
<div class="waktu" id="ashar"></div>
</div>

<div class="sholat maghrib">Maghrib
<div class="waktu" id="maghrib"></div>
</div>

<div class="sholat isya">Isya
<div class="waktu" id="isya"></div>
</div>

</div>

<!-- JAM -->
<div class="main">
<div class="clock" id="clock"></div>
<div class="countdown" id="countdown"></div>
</div>

</div>

<div class="running">
<span>Selamat datang di Masjid | Mohon matikan HP saat sholat | Ikuti kajian rutin setiap Jumat</span>
</div>

<script>

/* JAM + TANGGAL BERJALAN */
function updateClock(){

let now = new Date();

let jam = now.getHours().toString().padStart(2,"0");
let menit = now.getMinutes().toString().padStart(2,"0");
let detik = now.getSeconds().toString().padStart(2,"0");

clock.innerHTML = jam + ":" + menit + ":" + detik;

tanggal.innerHTML =
now.toLocaleDateString("id-ID",
{weekday:'long',day:'numeric',month:'long',year:'numeric'});

cekIqomah();
}

setInterval(updateClock,1000);


/* AMBIL JADWAL SHOLAT */
let jadwal = {};

fetch("https://api.aladhan.com/v1/timingsByCity?city=Semarang&country=Indonesia&method=11")
.then(res=>res.json())
.then(data=>{

jadwal = data.data.timings;

subuh.innerHTML = jadwal.Fajr;
dzuhur.innerHTML = jadwal.Dhuhr;
ashar.innerHTML = jadwal.Asr;
maghrib.innerHTML = jadwal.Maghrib;
isya.innerHTML = jadwal.Isha;

});


/* COUNTDOWN IQOMAH */
let waktuIqomah = 10; // menit

function cekIqomah(){

let now = new Date();
let sekarang = now.getHours()*60 + now.getMinutes();

for(let nama in jadwal){

let waktu = jadwal[nama];
if(!waktu) continue;

let p = waktu.split(":");
let adzan = parseInt(p[0])*60 + parseInt(p[1]);

if(sekarang >= adzan && sekarang <= adzan + waktuIqomah){

let sisa = (adzan + waktuIqomah) - sekarang;

countdown.innerHTML =
"IQOMAH " + nama + " " + sisa + " MENIT";

return;
}
}

countdown.innerHTML = "";

}

</script>

</body>
</html>
